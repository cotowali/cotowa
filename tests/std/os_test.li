require 'os'

fn test_env() {
  var key = '__custom__env__key__'
  assert(os::getenv(key) == '')
  os::setenv(key, 'v1')
  assert(os::getenv(key) == 'v1')
  os::setenv(key, 'v2')
  assert(os::getenv(key) == 'v2')
  os::unsetenv(key)
  assert(os::getenv(key) == '')
  os::unsetenv(key)
}
test_env()

fn test_path() {
  var res = os::path::join('a', 'b', 'c')
#if compiler_windows
  assert(res == r'a\b\c')
#else
  assert(res == 'a/b/c')
#endif
}
test_path()
